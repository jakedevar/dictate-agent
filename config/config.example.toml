# Dictate Agent Configuration
# Copy to ~/.config/dictate-agent/config.toml

[whisper]
# Model for transcription (HuggingFace model ID)
# Options:
#   - openai/whisper-large-v3        # Best accuracy, slowest
#   - openai/whisper-large-v3-turbo  # 6-8x faster, ~large-v2 accuracy (RECOMMENDED)
#   - distil-whisper/distil-large-v3 # 6x faster, English only
model = "openai/whisper-large-v3-turbo"

# Assistant model for speculative decoding (2x additional speedup)
assistant_model = "distil-whisper/distil-large-v3"

# Device: cuda or cpu
device = "cuda"

# Compute type: float16 (GPU), int8 (CPU), float32 (fallback)
compute_type = "float16"

# Enable speculative decoding (recommended for batch_size=1)
use_speculative_decoding = true

# Chunk length for long audio (seconds)
chunk_length_s = 30

# Batch size (1 is optimal for speculative decoding)
batch_size = 1

# Threshold for filtering non-speech (0.0-1.0, higher = stricter)
no_speech_threshold = 0.6

[router]
# Ollama configuration for local inference
ollama_host = "http://localhost:11434"
ollama_model = "qwen3:14b"
ollama_timeout_s = 120.0

[editor]
# Text editing mode (e.g., "edit: make this more concise")
enabled = true
triggers = ["edit:", "fix:", "change:", "rewrite:", "transform:"]

[commands]
# Keyboard/system command mode (e.g., "close window", "volume up")
enabled = true
fuzzy_threshold = 0.8
confirm_destructive = true
destructive_patterns = ["kill", "close", "exit", "shutdown", "restart"]

[output]
# Typing configuration
typing_delay_ms = 10
use_clipboard = false  # Use clipboard for faster long-text typing
auto_type = true       # Automatically type transcribed/response text

[notifications]
enabled = true
timeout_ms = 3000

[history]
# Enable interaction history logging for analytics
enabled = true
# Database location (empty = ~/.local/share/dictate-agent/history.db)
db_path = ""
# Truncate stored responses beyond this length (characters)
max_response_length = 10000

[status_window]
# Persistent floating overlay while recording/transcribing
enabled = true
position = "center"         # top-right/top-left/bottom-right/bottom-left/center
margin = 20                  # Used for non-center positions
center_offset_y = 20         # Pixels to nudge downward when centered
